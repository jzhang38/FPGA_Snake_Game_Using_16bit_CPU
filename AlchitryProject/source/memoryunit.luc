// supports byte addressable
module memoryunit
(
    input clk,  // clock
    
    // for data memory
    input raddr[10],
    input waddr[10],
    input data_memory_input[16],
    input xwr,
    output data_memory_output[16],
            
    // for instruction memory 
    input ia[16],
    output instruction[32]

  ) {
  const SAMPLE_CODE = {
32b01110111111111111111111011011011,
32b01110111111111111111111111111100,
32b11000011100111000000000000000001,
32b01111011111110111111111111111010,
32b11010111011111000000000000000000,
32b11000011101111010000000000000001,
32b01110111111110110000000000000101,
32b11010111011111010000000001111111,
32b10000011100111111111100000000000,
32b10000011101111111111100000000000,
32b10000011100111111111100000000000,
32b10110111010110101110100000000000,
32b10110111001110011110000000000000,
32b11000011101111110000000000001010,
32b11000011100111110000000000001011,
32b01101111010111110000000000000000,
32b01101111001111110000000000000000,
32b01110111111111100000000000000110,
32b10000011110111001111100000000000,
32b10100011100111001110100000000000,
32b10010011101000011101000000000000,
32b10010011100000001100100000000000,
32b01111011111101000000000000010110,
32b10100110100101001110000000000000,
32b10100111100111001110100000000000,
32b10100110100101001010100000000000,
32b11010011101111010000000000000000,
32b11010011100111000000000000000000,
32b11010111101000010000000001000000,
32b11010111100000000000000000100000,
32b11010110101000010000000000000000,
32b11010110100000000000000000000000,
32b01111011111111000000000000100000,
32b10100011100111001110100000000000,
32b10010011101000011010000000000000,
32b10010011100000001001100000000000,
32b01111011111111000000000000000100,
32b11010011100101100000000000001001,
32b01111011111111000000000000100110,
32b10100011100111001110100000000000,
32b10010011101000011000100000000000,
32b10010011100000001000000000000000,
32b01111011111111000000000000001010,
32b11010011100101100000000000001000,
32b01111011111111000000000000101100,
32b10100011100111001110100000000000,
32b10010011101000010111100000000000,
32b10010011100000000111000000000000,
32b01111011111111000000000000010000,
32b11010011100101100000000000000111,
32b01111011111111000000000000110010,
32b10100011100111001110100000000000,
32b10010011101000010110100000000000,
32b10010011100000000110000000000000,
32b01111011111111000000000000010110,
32b11010011100101100000000000000110,
32b01111011111111000000000000111000,
32b10100011100111001110100000000000,
32b10010011101000010101100000000000,
32b10010011100000000101000000000000,
32b01111011111111000000000000011100,
32b11010011100101100000000000000101,
32b01111011111111000000000000111110,
32b10100011100111001110100000000000,
32b10010011101000010100100000000000,
32b10010011100000000100000000000000,
32b01111011111111000000000000100010,
32b11010011100101100000000000000100,
32b01111011111111000000000001000100,
32b10100011100111001110100000000000,
32b10010011101000010011100000000000,
32b10010011100000000011000000000000,
32b01111011111111000000000000101000,
32b11010011100101100000000000000011,
32b01111011111111000000000001001010,
32b10100011100111001110100000000000,
32b10010011101000010010100000000000,
32b10010011100000000010000000000000,
32b01111011111111000000000000101110,
32b11010011100101100000000000000010,
32b01111011111111000000000001010000,
32b10100011100111001110100000000000,
32b10010011101000010001100000000000,
32b10010011100000000001000000000000,
32b01111011111111000000000000110100,
32b11010011100101100000000000000001,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101100100000000000010000,
32b10100111100111001001100000000000,
32b10110011100100101110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000000001001,
32b11010111100101100000000000001010,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101100000000000000010000,
32b10100111100111001000100000000000,
32b10110011100100001110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000000010100,
32b11010111100101100000000000001001,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101011100000000000010000,
32b10100111100111000111100000000000,
32b10110011100011101110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000000011111,
32b11010111100101100000000000001000,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101011000000000000010000,
32b10100111100111000110100000000000,
32b10110011100011001110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000000101010,
32b11010111100101100000000000000111,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101010100000000000010000,
32b10100111100111000101100000000000,
32b10110011100010101110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000000110101,
32b11010111100101100000000000000110,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101010000000000000010000,
32b10100111100111000100100000000000,
32b10110011100010001110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000001000000,
32b11010111100101100000000000000101,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101001100000000000010000,
32b10100111100111000011100000000000,
32b10110011100001101110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000001001011,
32b11010111100101100000000000000100,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101001000000000000010000,
32b10100111100111000010100000000000,
32b10110011100001001110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000001010110,
32b11010111100101100000000000000011,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101000100000000000010000,
32b10100111100111000001100000000000,
32b10110011100000101110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000001100001,
32b11010111100101100000000000000010,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000001,
32b01100111011111000000000000000000,
32b11000011011111110000000000001000,
32b11100011101000000000000000010000,
32b10100111100111000000100000000000,
32b10110011100000001110000000000000,
32b11000011100111110000000000000110,
32b01111011111111000000000001101100,
32b11010111100101100000000000000001,
32b01100111011111000000000000000000,
32b01111011111111010000000000000001,
32b11000011011111110000000000000010,
32b01100111011111000000000000000000,
32b11000011011111110000000000010000,
32b11100011101110010000000000010000,
32b10100111100111001101000000000000,
32b10110011100110011110000000000000,
32b11000011100111110000000000000110,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000010011111011111100000000000,
32b10000010010111001111100000000000,
32b10000010101100111111100000000000,
32b10000010100100101111100000000000,
32b01111011111110110000000000000110,
32b11010011011101100000000000001001,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000010001111011111100000000000,
32b10000010000111001111100000000000,
32b10000010101100011111100000000000,
32b10000010100100001111100000000000,
32b01111011111110110000000000001110,
32b11010011011101100000000000001000,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000001111111011111100000000000,
32b10000001110111001111100000000000,
32b10000010101011111111100000000000,
32b10000010100011101111100000000000,
32b01111011111110110000000000010110,
32b11010011011101100000000000000111,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000001101111011111100000000000,
32b10000001100111001111100000000000,
32b10000010101011011111100000000000,
32b10000010100011001111100000000000,
32b01111011111110110000000000011110,
32b11010011011101100000000000000110,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000001011111011111100000000000,
32b10000001010111001111100000000000,
32b10000010101010111111100000000000,
32b10000010100010101111100000000000,
32b01111011111110110000000000100110,
32b11010011011101100000000000000101,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000001001111011111100000000000,
32b10000001000111001111100000000000,
32b10000010101010011111100000000000,
32b10000010100010001111100000000000,
32b01111011111110110000000000101110,
32b11010011011101100000000000000100,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000000111111011111100000000000,
32b10000000110111001111100000000000,
32b10000010101001111111100000000000,
32b10000010100001101111100000000000,
32b01111011111110110000000000110110,
32b11010011011101100000000000000011,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000000101111011111100000000000,
32b10000000100111001111100000000000,
32b10000010101001011111100000000000,
32b10000010100001001111100000000000,
32b01111011111110110000000000111110,
32b11010011011101100000000000000010,
32b10000011101101011111100000000000,
32b10000011100101001111100000000000,
32b10000000011111011111100000000000,
32b10000000010111001111100000000000,
32b10000010101000111111100000000000,
32b10000010100000101111100000000000,
32b01111011111110110000000001000110,
32b11010011011101100000000000000001,
32b10000000001000011100000000000000,
32b10000000000000001011100000000000,
32b10000011101000011111100000000000,
32b10000011100000001111100000000000,
32b01111011111111000000000100011010,
32b11010011100101100000000000001011,
32b10000011110111111111100000000000,
32b10000010110101101111000000000000,
32b10000011101111111111100000000000,
32b10000011100111111111100000000000,
32b01110111111111111111111111111011,
32b11000011100111000000000000000001,
32b01100111111111000000000000000000,
32b01110111111111010000000000000011,
32b11011011101111000000001111111111,
32b10000011100111111111100000000000,
32b11000010110111110000000000000001,
32b11000011000111110000000000000001,
32b11000010111111110000000000000000,
32b11000000001111110000000000011101,
32b11000000000111110000000000001111,
32b10110111010110101110100000000000,
32b10110111001110011110000000000000,
32b11000011101111110000000000001010,
32b11000011100111110000000000001011,
32b11000011010110100111111111111111,
32b11000011001110010111111111111111

};
  simple_dual_ram data_memory(#SIZE(6), #DEPTH(1024), .wclk(clk), .rclk(clk)); // can fit 16 * 16 bits 
  always {
    instruction = SAMPLE_CODE[ia[15:2]];
    
    data_memory.raddr = raddr[9:0]; // memory_unit is word addressable in Lucid, ignore two LSB
    data_memory.waddr = waddr[9:0];// memory_unit is word addressable in Lucid, ignore two LSB
    data_memory.write_data = data_memory_input;
    data_memory.write_en = xwr;
    data_memory_output = data_memory.read_data;
  }
}
